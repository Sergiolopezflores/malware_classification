import os

def extraer_nombres_y_guardar(carpeta, archivo_salida):
    # Lista para almacenar los nombres extraídos
    nombres_extraidos = []

    # Recorrer todos los archivos en la carpeta especificada
    for filename in os.listdir(carpeta):
        if filename.endswith('.dat'):
            # Extraer la parte del nombre antes del último guion '-'
            guion_index = filename.rfind('-')
            if guion_index > 0:  # Asegurarse de que haya un guion
                nombre_extraido = filename[:guion_index]
                nombres_extraidos.append(nombre_extraido)

    # Guardar los nombres extraídos en un archivo de texto
    with open(archivo_salida, 'w') as f:
        for nombre in nombres_extraidos:
            f.write(nombre + '\n')

# Especificar la carpeta de entrada y el archivo de salida
carpeta_entrada = '/ahma-hub/data-acquisition-main/bashlite-2.43s-2Mss/'  # Cambia esto por la ruta a tu carpeta
archivo_salida = 'nombres_extraidos.txt'

# Ejecutar la función
extraer_nombres_y_guardar(carpeta_entrada, archivo_salida)

print(f"Los nombres han sido guardados en {archivo_salida}")

